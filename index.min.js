!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("lodash/debounce"),require("lodash/forEachRight"),require("lodash/merge"),require("lodash/remove"),require("lodash/throttle")):"function"==typeof define&&define.amd?define(["lodash/debounce","lodash/forEachRight","lodash/merge","lodash/remove","lodash/throttle"],t):"object"==typeof exports?exports["window-event-mediator"]=t(require("lodash/debounce"),require("lodash/forEachRight"),require("lodash/merge"),require("lodash/remove"),require("lodash/throttle")):e["window-event-mediator"]=t(e["lodash/debounce"],e["lodash/forEachRight"],e["lodash/merge"],e["lodash/remove"],e["lodash/throttle"])}(this,function(e,t,r,o,n){return function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={exports:{},id:o,loaded:!1};return e[o].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){var o,n,i,s,h,d,l=function(e,t){return function(){return e.apply(t,arguments)}};i=r(2),d=r(5),n=r(1),h=r(4),s=r(3),o=function(){function e(){this.fire=l(this.fire,this),this.set=l(this.set,this),this.off=l(this.off,this),this.on=l(this.on,this)}return e.prototype.handlers={},e.prototype.defaults={throttle:100,debounce:0,dispatcher:{scroll:window,default:window}},e.prototype.on=function(e,t,r){return r=s({},this.defaults,r),this.set(e,t,r)},e.prototype.off=function(e,t,r){var o,n;if(null!=this.handlers[e]){if(null==r){n=[];for(o in this.handlers[e])h(this.handlers[e][o],function(e){return e.original===t}),0===this.handlers[e][o].length?n.push(delete this.handlers[e][o]):n.push(void 0);return n}return r=s({},this.defaults,r),o=r.throttle+"-"+r.debounce,null!=this.handlers[e][o]&&(h(this.handlers[e][o],function(e){return e.original===t}),0===this.handlers[e][o].length)?delete this.handlers[e][o]:void 0}},e.prototype.set=function(e,t,r){var o,i,s;return i=r.throttle+"-"+r.debounce,null==this.handlers[e]&&(this.handlers[e]={}),o=null!=(s=r.dispatcher[e])?s:r.dispatcher.default,this.handlers[e].hasOwnProperty(i)||(this.handlers[e][i]=[],o.addEventListener(e,this.fire)),this.handlers[e][i].push({modified:n(d(t,r.throttle),r.debounce),original:t})},e.prototype.fire=function(e){return i(this.handlers[e.type],function(t){return i(t,function(t){return t.modified(e),!0})})},e}(),e.exports=new o},function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=n}])});